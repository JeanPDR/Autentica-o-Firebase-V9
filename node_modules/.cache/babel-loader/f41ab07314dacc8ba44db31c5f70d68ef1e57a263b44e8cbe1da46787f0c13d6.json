{"ast":null,"code":"var _jsxFileName = \"/workspace/Autentica-o-Firebase-V9/src/pages/Passenger/Task.js\",\n  _s = $RefreshSig$();\nimport './task.css';\nimport { useState } from 'react';\nimport TaskItem from './TaskItem';\nimport EditTask from './EditTask';\nimport { doc, updateDoc, deleteDoc } from \"firebase/firestore\";\nimport { db } from '../../firebase';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Task(_ref) {\n  _s();\n  let {\n    id,\n    title,\n    description,\n    completed\n  } = _ref;\n  const [checked, setChecked] = useState(completed);\n  const [open, setOpen] = useState({\n    edit: false,\n    view: false\n  });\n  const handleClose = () => {\n    setOpen({\n      edit: false,\n      view: false\n    });\n  };\n\n  /* function to update firestore */\n  const handleChange = async () => {\n    const taskDocRef = doc(db, 'tasks', id);\n    try {\n      await updateDoc(taskDocRef, {\n        completed: checked\n      });\n    } catch (err) {\n      alert(err);\n    }\n  };\n\n  /* function to delete a document from firstore */\n  const handleDelete = async () => {\n    const taskDocRef = doc(db, 'tasks', id);\n    try {\n      await deleteDoc(taskDocRef);\n    } catch (err) {\n      alert(err);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `task ${checked && 'task--borderColor'}`,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        id: `checkbox-${id}`,\n        className: \"checkbox-custom\",\n        name: \"checkbox\",\n        checked: checked,\n        onChange: handleChange,\n        type: \"checkbox\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: `checkbox-${id}`,\n        className: \"checkbox-custom-label\",\n        onClick: () => setChecked(!checked)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"task__body\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: description\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"task__buttons\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"task__deleteNedit\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"task__editButton\",\n            onClick: () => setOpen({\n              ...open,\n              edit: true\n            }),\n            children: \"Edit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"task__deleteButton\",\n            onClick: handleDelete,\n            children: \"Delete\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setOpen({\n            ...open,\n            view: true\n          }),\n          children: \"View\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this), open.view && /*#__PURE__*/_jsxDEV(TaskItem, {\n      onClose: handleClose,\n      title: title,\n      description: description,\n      open: open.view\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }, this), open.edit && /*#__PURE__*/_jsxDEV(EditTask, {\n      onClose: handleClose,\n      toEditTitle: title,\n      toEditDescription: description,\n      open: open.edit,\n      id: id\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 5\n  }, this);\n}\n_s(Task, \"RxYpkz1ZlxastkRrHFyHSwbhNgw=\");\n_c = Task;\nexport default Task;\nvar _c;\n$RefreshReg$(_c, \"Task\");","map":{"version":3,"names":["useState","TaskItem","EditTask","doc","updateDoc","deleteDoc","db","Task","id","title","description","completed","checked","setChecked","open","setOpen","edit","view","handleClose","handleChange","taskDocRef","err","alert","handleDelete"],"sources":["/workspace/Autentica-o-Firebase-V9/src/pages/Passenger/Task.js"],"sourcesContent":["import './task.css'\nimport {useState} from 'react'\nimport TaskItem from './TaskItem'\nimport EditTask from './EditTask'\nimport { doc, updateDoc, deleteDoc} from \"firebase/firestore\";\nimport {db} from '../../firebase'\n\nfunction Task({id, title, description, completed}) {\n\n  const [checked, setChecked] = useState(completed)\n  const [open, setOpen] = useState({edit:false, view:false})\n\n  const handleClose = () => {\n    setOpen({edit:false, view:false})\n  }\n\n  /* function to update firestore */\n  const handleChange = async () => {\n    const taskDocRef = doc(db, 'tasks', id)\n    try{\n      await updateDoc(taskDocRef, {\n        completed: checked\n      })\n    } catch (err) {\n      alert(err)\n    }\n  }\n\n  /* function to delete a document from firstore */ \n  const handleDelete = async () => {\n    const taskDocRef = doc(db, 'tasks', id)\n    try{\n      await deleteDoc(taskDocRef)\n    } catch (err) {\n      alert(err)\n    }\n  }\n\n  return (\n    <div className={`task ${checked && 'task--borderColor'}`}>\n      <div>\n        <input \n          id={`checkbox-${id}`} \n          className='checkbox-custom'\n          name=\"checkbox\" \n          checked={checked}\n          onChange={handleChange}\n          type=\"checkbox\" />\n        <label \n          htmlFor={`checkbox-${id}`} \n          className=\"checkbox-custom-label\" \n          onClick={() => setChecked(!checked)} ></label>\n      </div>\n      <div className='task__body'>\n        <h2>{title}</h2>\n        <p>{description}</p>\n        <div className='task__buttons'>\n          <div className='task__deleteNedit'>\n            <button \n              className='task__editButton' \n              onClick={() => setOpen({...open, edit : true})}>\n              Edit\n            </button>\n            <button className='task__deleteButton' onClick={handleDelete}>Delete</button>\n          </div>\n          <button \n            onClick={() => setOpen({...open, view: true})}>\n            View\n          </button>\n        </div>\n      </div>\n\n      {open.view &&\n        <TaskItem \n          onClose={handleClose} \n          title={title} \n          description={description} \n          open={open.view} />\n      }\n\n      {open.edit &&\n        <EditTask \n          onClose={handleClose} \n          toEditTitle={title} \n          toEditDescription={description} \n          open={open.edit}\n          id={id} />\n      }\n\n    </div>\n  )\n}\n\nexport default Task"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}