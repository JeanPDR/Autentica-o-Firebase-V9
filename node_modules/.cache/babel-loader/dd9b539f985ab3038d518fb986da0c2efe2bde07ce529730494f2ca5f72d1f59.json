{"ast":null,"code":"import _slicedToArray from\"/workspace/Autentica-o-Firebase-V9/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import'./taskManager.css';import Task from'./Task';import{useState,useEffect}from'react';import{collection,query,orderBy,onSnapshot}from\"firebase/firestore\";import{db}from'../../firebase';import AddTask from'./AddTask';import SolicitarViagemButton from'./SolicitarViagemBtn';import SolicitarViagemScreen from'./SolicitarViagemScreen';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function TaskManager(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),openAddModal=_useState2[0],setOpenAddModal=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),tasks=_useState4[0],setTasks=_useState4[1];/* function to get all tasks from firestore in realtime */useEffect(function(){var taskColRef=query(collection(db,'tasks'),orderBy('created','desc'));onSnapshot(taskColRef,function(snapshot){setTasks(snapshot.docs.map(function(doc){return{id:doc.id,data:doc.data()};}));});},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"taskManager\",children:[/*#__PURE__*/_jsx(\"header\",{children:\"Task Manager\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"taskManager__container\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return setOpenAddModal(true);},children:\"Add task +\"}),/*#__PURE__*/_jsx(\"div\",{className:\"taskManager__tasks\",children:tasks.map(function(task){return/*#__PURE__*/_jsx(Task,{id:task.id,completed:task.data.completed,title:task.data.title,description:task.data.description},task.id);})})]}),openAddModal&&/*#__PURE__*/_jsx(AddTask,{onClose:function onClose(){return setOpenAddModal(false);},open:openAddModal})]});}export default TaskManager;","map":{"version":3,"names":["Task","useState","useEffect","collection","query","orderBy","onSnapshot","db","AddTask","SolicitarViagemButton","SolicitarViagemScreen","TaskManager","openAddModal","setOpenAddModal","tasks","setTasks","taskColRef","snapshot","docs","map","doc","id","data","task","completed","title","description"],"sources":["/workspace/Autentica-o-Firebase-V9/src/pages/Passenger/TaskManager.js"],"sourcesContent":["import './taskManager.css'\nimport Task from './Task'\nimport {useState, useEffect} from 'react'\nimport {collection, query, orderBy, onSnapshot} from \"firebase/firestore\"\nimport {db} from '../../firebase'\nimport AddTask from './AddTask'\nimport SolicitarViagemButton from './SolicitarViagemBtn';\nimport SolicitarViagemScreen from './SolicitarViagemScreen';\nfunction TaskManager() {\n\n  const [openAddModal, setOpenAddModal] = useState(false)\n  const [tasks, setTasks] = useState([])\n\n  /* function to get all tasks from firestore in realtime */ \n  useEffect(() => {\n    const taskColRef = query(collection(db, 'tasks'), orderBy('created', 'desc'))\n    onSnapshot(taskColRef, (snapshot) => {\n      setTasks(snapshot.docs.map(doc => ({\n        id: doc.id,\n        data: doc.data()\n      })))\n    })\n  },[])\n\n  return (\n    <div className='taskManager'>\n      <header>Task Manager</header>\n      <div className='taskManager__container'>\n        <button \n          onClick={() => setOpenAddModal(true)}>\n          Add task +\n        </button>\n        <div className='taskManager__tasks'>\n\n          {tasks.map((task) => (\n            <Task\n              id={task.id}\n              key={task.id}\n              completed={task.data.completed}\n              title={task.data.title} \n              description={task.data.description}\n            />\n          ))}\n\n        </div>\n      </div>\n\n      {openAddModal &&\n        <AddTask onClose={() => setOpenAddModal(false)} open={openAddModal}/>\n      }\n\n    </div>\n  )\n}\n\nexport default TaskManager\n"],"mappings":"wHAAA,MAAO,mBAAmB,CAC1B,MAAOA,KAAI,KAAM,QAAQ,CACzB,OAAQC,QAAQ,CAAEC,SAAS,KAAO,OAAO,CACzC,OAAQC,UAAU,CAAEC,KAAK,CAAEC,OAAO,CAAEC,UAAU,KAAO,oBAAoB,CACzE,OAAQC,EAAE,KAAO,gBAAgB,CACjC,MAAOC,QAAO,KAAM,WAAW,CAC/B,MAAOC,sBAAqB,KAAM,sBAAsB,CACxD,MAAOC,sBAAqB,KAAM,yBAAyB,CAAC,wFAC5D,QAASC,YAAW,EAAG,CAErB,cAAwCV,QAAQ,CAAC,KAAK,CAAC,wCAAhDW,YAAY,eAAEC,eAAe,eACpC,eAA0BZ,QAAQ,CAAC,EAAE,CAAC,yCAA/Ba,KAAK,eAAEC,QAAQ,eAEtB,0DACAb,SAAS,CAAC,UAAM,CACd,GAAMc,WAAU,CAAGZ,KAAK,CAACD,UAAU,CAACI,EAAE,CAAE,OAAO,CAAC,CAAEF,OAAO,CAAC,SAAS,CAAE,MAAM,CAAC,CAAC,CAC7EC,UAAU,CAACU,UAAU,CAAE,SAACC,QAAQ,CAAK,CACnCF,QAAQ,CAACE,QAAQ,CAACC,IAAI,CAACC,GAAG,CAAC,SAAAC,GAAG,QAAK,CACjCC,EAAE,CAAED,GAAG,CAACC,EAAE,CACVC,IAAI,CAAEF,GAAG,CAACE,IAAI,EAChB,CAAC,EAAC,CAAC,CAAC,CACN,CAAC,CAAC,CACJ,CAAC,CAAC,EAAE,CAAC,CAEL,mBACE,aAAK,SAAS,CAAC,aAAa,wBAC1B,wBAAQ,cAAY,EAAS,cAC7B,aAAK,SAAS,CAAC,wBAAwB,wBACrC,eACE,OAAO,CAAE,yBAAMT,gBAAe,CAAC,IAAI,CAAC,EAAC,UAAC,YAExC,EAAS,cACT,YAAK,SAAS,CAAC,oBAAoB,UAEhCC,KAAK,CAACK,GAAG,CAAC,SAACI,IAAI,qBACd,KAAC,IAAI,EACH,EAAE,CAAEA,IAAI,CAACF,EAAG,CAEZ,SAAS,CAAEE,IAAI,CAACD,IAAI,CAACE,SAAU,CAC/B,KAAK,CAAED,IAAI,CAACD,IAAI,CAACG,KAAM,CACvB,WAAW,CAAEF,IAAI,CAACD,IAAI,CAACI,WAAY,EAH9BH,IAAI,CAACF,EAAE,CAIZ,EACH,CAAC,EAEE,GACF,CAELT,YAAY,eACX,KAAC,OAAO,EAAC,OAAO,CAAE,yBAAMC,gBAAe,CAAC,KAAK,CAAC,EAAC,CAAC,IAAI,CAAED,YAAa,EAAE,GAGnE,CAEV,CAEA,cAAeD,YAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}