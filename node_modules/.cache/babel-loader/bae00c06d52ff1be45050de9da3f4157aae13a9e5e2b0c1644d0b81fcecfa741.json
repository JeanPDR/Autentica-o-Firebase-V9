{"ast":null,"code":"import _regeneratorRuntime from\"/workspace/Autentica-o-Firebase-V9/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/workspace/Autentica-o-Firebase-V9/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/workspace/Autentica-o-Firebase-V9/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import Modal from\"./Modal\";import{useState}from'react';import'./editTask.css';import{doc,updateDoc}from\"firebase/firestore\";import{db}from'../../firebase';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function EditTask(_ref){var open=_ref.open,onClose=_ref.onClose,toEditTitle=_ref.toEditTitle,toEditDescription=_ref.toEditDescription,id=_ref.id;var _useState=useState(toEditTitle),_useState2=_slicedToArray(_useState,2),title=_useState2[0],setTitle=_useState2[1];var _useState3=useState(toEditDescription),_useState4=_slicedToArray(_useState3,2),description=_useState4[0],setDescription=_useState4[1];/* function to update firestore */var handleUpdate=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var taskDocRef;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();taskDocRef=doc(db,'tasks',id);_context.prev=2;_context.next=5;return updateDoc(taskDocRef,{title:title,description:description});case 5:onClose();_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](2);alert(_context.t0);case 11:case\"end\":return _context.stop();}},_callee,null,[[2,8]]);}));return function handleUpdate(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsx(Modal,{modalLable:\"Edit Task\",onClose:onClose,open:open,children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleUpdate,className:\"editTask\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"title\",onChange:function onChange(e){return setTitle(e.target.value.toUpperCase());},value:title}),/*#__PURE__*/_jsx(\"textarea\",{onChange:function onChange(e){return setDescription(e.target.value);},value:description}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Edit\"})]})});}export default EditTask;","map":{"version":3,"names":["Modal","useState","doc","updateDoc","db","EditTask","open","onClose","toEditTitle","toEditDescription","id","title","setTitle","description","setDescription","handleUpdate","e","preventDefault","taskDocRef","alert","target","value","toUpperCase"],"sources":["/workspace/Autentica-o-Firebase-V9/src/pages/Passenger/EditTask.js"],"sourcesContent":["import Modal from \"./Modal\"\nimport {useState} from 'react'\nimport './editTask.css'\nimport { doc, updateDoc } from \"firebase/firestore\";\nimport {db} from '../../firebase'\n\nfunction EditTask({open, onClose, toEditTitle, toEditDescription, id}) {\n\n  const [title, setTitle] = useState(toEditTitle)\n  const [description, setDescription] = useState(toEditDescription)\n\n  /* function to update firestore */\n  const handleUpdate = async (e) => {\n    e.preventDefault()\n    const taskDocRef = doc(db, 'tasks', id)\n    try{\n      await updateDoc(taskDocRef, {\n        title: title,\n        description: description\n      })\n      onClose()\n    } catch (err) {\n      alert(err)\n    }\n    \n  }\n\n  return (\n    <Modal modalLable='Edit Task' onClose={onClose} open={open}>\n      <form onSubmit={handleUpdate} className='editTask'>\n        <input type='text' name='title' onChange={(e) => setTitle(e.target.value.toUpperCase())} value={title}/>\n        <textarea onChange={(e) => setDescription(e.target.value)} value={description}></textarea>\n        <button type='submit'>Edit</button>\n      </form> \n    </Modal>\n  )\n}\n\nexport default EditTask\n"],"mappings":"wXAAA,MAAOA,MAAK,KAAM,SAAS,CAC3B,OAAQC,QAAQ,KAAO,OAAO,CAC9B,MAAO,gBAAgB,CACvB,OAASC,GAAG,CAAEC,SAAS,KAAQ,oBAAoB,CACnD,OAAQC,EAAE,KAAO,gBAAgB,yFAEjC,QAASC,SAAQ,MAAsD,IAApDC,KAAI,MAAJA,IAAI,CAAEC,OAAO,MAAPA,OAAO,CAAEC,WAAW,MAAXA,WAAW,CAAEC,iBAAiB,MAAjBA,iBAAiB,CAAEC,EAAE,MAAFA,EAAE,CAElE,cAA0BT,QAAQ,CAACO,WAAW,CAAC,wCAAxCG,KAAK,eAAEC,QAAQ,eACtB,eAAsCX,QAAQ,CAACQ,iBAAiB,CAAC,yCAA1DI,WAAW,eAAEC,cAAc,eAElC,kCACA,GAAMC,aAAY,6FAAG,iBAAOC,CAAC,kIAC3BA,CAAC,CAACC,cAAc,EAAE,CACZC,UAAU,CAAGhB,GAAG,CAACE,EAAE,CAAE,OAAO,CAAEM,EAAE,CAAC,uCAE/BP,UAAS,CAACe,UAAU,CAAE,CAC1BP,KAAK,CAAEA,KAAK,CACZE,WAAW,CAAEA,WACf,CAAC,CAAC,QACFN,OAAO,EAAE,gFAETY,KAAK,aAAK,oEAGb,kBAbKJ,aAAY,6CAajB,CAED,mBACE,KAAC,KAAK,EAAC,UAAU,CAAC,WAAW,CAAC,OAAO,CAAER,OAAQ,CAAC,IAAI,CAAED,IAAK,uBACzD,cAAM,QAAQ,CAAES,YAAa,CAAC,SAAS,CAAC,UAAU,wBAChD,cAAO,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAE,kBAACC,CAAC,QAAKJ,SAAQ,CAACI,CAAC,CAACI,MAAM,CAACC,KAAK,CAACC,WAAW,EAAE,CAAC,EAAC,CAAC,KAAK,CAAEX,KAAM,EAAE,cACxG,iBAAU,QAAQ,CAAE,kBAACK,CAAC,QAAKF,eAAc,CAACE,CAAC,CAACI,MAAM,CAACC,KAAK,CAAC,EAAC,CAAC,KAAK,CAAER,WAAY,EAAY,cAC1F,eAAQ,IAAI,CAAC,QAAQ,UAAC,MAAI,EAAS,GAC9B,EACD,CAEZ,CAEA,cAAeR,SAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}